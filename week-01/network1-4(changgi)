#  1. 네트워크의 큰 그림

## 1. 네트워크의 기본 구조
- 네트워크는 **노드(Host)** 와 **링크(전송 매체)** 가 연결된 구조이다.
- 노드는 서로 데이터를 주고받기 위해 존재한다.
- 노드는 역할에 따라 **클라이언트**와 **서버**로 구분된다.
- 이러한 노드들의 연결 형태를 **네트워크 토폴로지**라고 한다.

---

## 2. LAN & WAN
### ● LAN (Local Area Network)
- 건물, 사무실, 가정 등 **좁은 범위의 네트워크**이다.
- 속도가 빠르고 관리가 용이하다.

### ● WAN (Wide Area Network)
- 도시나 국가 단위처럼 **넓은 범위의 네트워크**이다.
- 여러 LAN을 묶어 구성하며 지연이 크고 구축 비용이 높다.

---

## 3. 패킷 교환 네트워크
- 데이터는 여러 **패킷**으로 나눠 전송된다.
- 각 패킷은 독립적으로 네트워크를 이동하며 **라우터를 통해 목적지까지 전달**된다.
- 목적지에서는 패킷들을 다시 조립해 원래 데이터로 복원된다.

---

## 4. 두 호스트가 패킷을 주고받는 과정
1. 송신 호스트에서 응용 계층 데이터 생성  
2. TCP/UDP, IP, MAC 등의 헤더가 붙으면서 **캡슐화**  
3. 스위치·라우터 등을 거쳐 목적지까지 이동  
4. 수신 호스트는 헤더를 벗겨내며 **비캡슐화**  
5. 응용 프로그램에서 최종 데이터 사용  

---

## 5. 네트워크 참조 모델
- 네트워크 기능을 계층별로 구분해 설명하는 모델이며 대표적으로  
  - **OSI 7계층**  
  - **TCP/IP 4계층**  
  이 존재한다.

---

## 6. OSI 7계층
1. **물리 계층** – 전기 신호로 비트를 전달  
2. **데이터링크 계층** – MAC 주소 기반 프레임 전달  
3. **네트워크 계층** – IP 기반 라우팅  
4. **전송 계층** – TCP/UDP를 통한 신뢰성·속도 관리  
5. **세션 계층** – 세션 연결 및 유지  
6. **표현 계층** – 인코딩·압축·암호화  
7. **응용 계층** – HTTP, DNS 등 서비스 제공  

---

## 7. TCP/IP 모델
- 실제 인터넷 통신에 사용되는 구현 중심 모델로  
  1. **네트워크 인터페이스 계층**  
  2. **인터넷 계층(IP)**  
  3. **전송 계층(TCP/UDP)**  
  4. **응용 계층**  
  으로 구성된다.

---

#  물리 계층과 데이터 링크 계층

## 1. 이더넷
- 가장 널리 사용되는 **유선 LAN 기술 표준**  
- MAC 주소 기반 통신  
- 프레임 단위로 데이터 전달  

---

## 2. 이더넷 프레임
### ● 개념
- 이더넷에서 데이터를 전송하는 기본 단위  
- MAC 기반으로 동작하며 FCS로 오류 검사를 수행  

### ● 구조
[ 목적지 MAC | 출발지 MAC | 타입 | 데이터 | FCS ]

---

## 3. 유·무선 통신 매체
### ● 유선
- UTP/STP/광섬유 등
- 간섭 적고 안정적

### ● 무선
- 전파 사용  
- 장애물·간섭 영향 큼  

### ● 채널 (중요)
- 주파수를 여러 채널로 나누어 사용  
- 2.4GHz → 채널 적음·간섭 많음  
- 5GHz → 채널 많음·간섭 적음  

---

## 4. NIC(네트워크 인터페이스 카드)
- 컴퓨터를 네트워크와 연결하는 하드웨어  
- MAC 주소 보유  
- 이더넷 프레임 송수신 담당  

---

## 5. 허브와 스위치
### ● 허브
- 받은 프레임을 모든 포트로 브로드캐스트  
- 충돌 많고 비효율 → 현재 거의 사용 X  

### ● 스위치
- MAC 기반 목적지 포트로만 전송  
- 충돌 없음  
- 현대 LAN 대부분 사용  

---

#  네트워크 계층 – IP

## 1. IP의 목적과 특징
### ● 목적
- 목적지까지 데이터를 전달하는 구조  
- 라우터를 통해 서로 다른 네트워크 간 통신 가능  

### ● 특징
- 연결을 미리 만들지 않음  
- 도착 여부 확인 없음  
- 패킷 단위 독립 전송  
- 경로가 상황에 따라 달라짐  

---

## 2. IP 주소의 구조
- 32비트 IPv4 주소  
- 점(.)으로 구분된 네 부분  
- 네트워크/호스트 영역으로 구성  
- 서브넷 마스크로 영역 구분  
- `/24` 같은 CIDR 표기 사용  

---

## 3. 공인 IP와 사설 IP
### ● 공인 IP  
- 인터넷 상에서 고유한 주소  
- 외부와 직접 통신 가능  

### ● 사설 IP  
- 내부 네트워크용  
- NAT를 통해 외부 통신  

---

## 4. IP 주소의 할당
### ● 정적 할당
- 관리자가 직접 설정  

### ● DHCP(동적 할당)
- 장치가 부팅 시 자동으로 IP 할당  
- Discover → Offer → Request → ACK  

---

## 5. ICMP
- IP 전송 중 발생하는 문제를 알려주는 제어 메시지  
- 네트워크 상태 점검·진단에 사용  

---

## 6. ARP
- IP에 해당하는 MAC 주소를 찾기 위한 프로토콜  
- 모르면 ARP 요청 → 해당 장치가 MAC 응답  

---

#  전송 계층 – TCP와 UDP

## 1. TCP와 UDP

### ● TCP의 목적
- 안전하고 정확한 데이터 전달  

### ● TCP 특징
- 연결 기반  
- 순서 보장  
- 재전송 수행  
- 혼잡 제어 수행  
- 신뢰성 높음  

### ● UDP 목적
- 빠른 전송 중심의 간단한 방식  

### ● UDP 특징
- 연결 없음  
- 순서 보장 없음  
- 오류 확인 없음  
- 빠르고 단순  

### ● 차이점
| 구분 | TCP | UDP |
|------|------|------|
| 연결 | 있음 | 없음 |
| 신뢰성 | 높음 | 낮음 |
| 순서 | 보장 | 보장 X |
| 속도 | 느림 | 빠름 |
| 목적 | 정확성 | 속도 |

---

## 2. TCP 연결·전송·종료 흐름

### ● 연결 (3-way handshake)
1) SYN  
2) SYN + ACK  
3) ACK  

### ● 데이터 전송
- 순서 번호 부여  
- ACK 응답  
- 누락 시 재전송  

### ● 종료 (4-way handshake)
1) FIN  
2) ACK  
3) FIN  
4) ACK  

---

## 3. TCP 오류 흐름 + 혼잡 제어

### ● 오류 흐름
- ACK 없으면 재전송  
- 중복 ACK 반복 시 빠른 재전송  
- 순서 틀려도 재정렬  

### ● 혼잡 제어
- 처음에는 천천히  
- 문제 없으면 점점 증가  
- 혼잡 시 속도 감소  
- 다시 서서히 증가  

---

## 4. TCP 상태 관리

### ● 개념  
- 연결 생성 → 데이터 교환 → 종료까지 상태를 나눠 관리하는 것  

### ● 주요 상태  

| 상태 | 의미 |
|------|------|
| CLOSED | 연결 없음 |
| LISTEN | 요청 대기 |
| SYN-SENT | SYN 보냄 |
| SYN-RECEIVED | SYN 받음 |
| ESTABLISHED | 데이터 교환 중 |
| FIN-WAIT-1 | FIN 보냄 |
| FIN-WAIT-2 | 상대 FIN 대기 |
| CLOSE-WAIT | 상대 종료 요청 |
| LAST-ACK | 마지막 ACK 전송 |
| TIME-WAIT | 잠시 대기 |
| CLOSING | 동시에 FIN 발생 |

